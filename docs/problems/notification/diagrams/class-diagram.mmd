classDiagram

    class NotificationServiceImpl {
        -Map~String, Notification~: notifications
        -PriorityQueue<Notification>: pendingQueue
        -ExecutorService: executorService
        -int: MAX_RETRIES
        +sendNotification(): String
        +getNotificationStatus(): Notification
        +retryFailed(): void
        +shutdown(): void
    }

    class RetryPolicy {
        -int: maxRetries
        -long: retryDelayMs
        +getMaxRetries(): int
        +getRetryDelayMs(): long
        +getDelayForAttempt(): long
    }

    class NotificationTemplate {
        -String: id
        -String: name
        -String: template
        +render(): String
        +getId(): String
        +getName(): String
    }

    class Notification {
        -String: id
        -String: userId
        -String: message
        -NotificationChannel: channel
        -Priority: priority
        -LocalDateTime: createdAt
        -NotificationStatus: status
        -int: retryCount
        +getId(): String
        +getUserId(): String
        +getMessage(): String
        +getChannel(): NotificationChannel
        +getPriority(): Priority
        +getCreatedAt(): LocalDateTime
        +getStatus(): NotificationStatus
        +getRetryCount(): int
    }

    class NotificationStatus {
        <<enumeration>>
    }

    class NotificationChannel {
        <<enumeration>>
    }

    class NotificationBatch {
        -String: id
        -List~Notification~: notifications
        -String: batchType
        +addNotification(): void
        +getNotifications(): List~Notification~
        +size(): int
    }

    class Priority {
        <<enumeration>>
        -int: value
        +getValue(): int
    }

    class NotificationService {
        <<interface>>
        +send(notification) void
        +sendBatch(notifications) void
        <<interface>>

    NotificationBatch "1" --> "*" Notification
    NotificationServiceImpl "1" --> "*" Notification
    NotificationServiceImpl --> NotificationChannel
    NotificationServiceImpl --> Priority
    Notification --> NotificationChannel
    Notification --> Priority
    Notification --> NotificationStatus
