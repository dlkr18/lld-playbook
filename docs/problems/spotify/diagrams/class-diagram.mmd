classDiagram

    class SpotifyDemo {
        +main() static void
    }

    class PlaybackService {
        -final Map~UserId,PlaybackSession~ sessions
        +playSong() PlaybackSession
        +playAlbum() PlaybackSession
        +playPlaylist() PlaybackSession
        +addToQueue() void
        +pause() void
        +resume() void
        +next() void
        +previous() void
        +seek() void
        +setShuffle() void
    }

    class Song {
        -final SongId id
        -final String title
        -final ArtistId artistId
        -final String artistName
        -final AlbumId albumId
        -final int durationSeconds
        -final Genre genre
        -long playCount
        +play() void
        +getId() SongId
        +getTitle() String
        +getArtistId() ArtistId
        +getArtistName() String
        +getAlbumId() AlbumId
        +getDurationSeconds() int
        +getGenre() Genre
        +getPlayCount() long
    }

    class SongId {
        -final String value
        +getValue() String
    }

    class Album {
        -final AlbumId id
        -final String title
        -final ArtistId artistId
        -final String artistName
        -final List~Song~ tracks
        +addTrack() void
        +getId() AlbumId
        +getTitle() String
        +getTracks() List~Song~
        +getTotalDuration() int
    }

    class PlaybackState
    <<enumeration>> PlaybackState

    class User {
        -final UserId id
        -final String username
        -final String email
        -SubscriptionTier tier
        -final List~Playlist~ playlists
        -final Set~SongId~ likedSongs
        -final Set~ArtistId~ followedArtists
        +addPlaylist() void
        +likeSong() void
        +followArtist() void
        +getId() UserId
        +getUsername() String
        +getTier() SubscriptionTier
        +getPlaylists() List~Playlist~
        +getLikedSongs() Set<SongId>
        +getFollowedArtists() Set<ArtistId>
    }

    class UserId {
        -final String value
        +getValue() String
    }

    class SubscriptionTier
    <<enumeration>> SubscriptionTier

    class AlbumId {
        -final String value
        +getValue() String
    }

    class Artist {
        -final ArtistId id
        -final String name
        -final List~Album~ albums
        -int followerCount
        +addAlbum() void
        +follow() void
        +unfollow() void
        +getId() ArtistId
        +getName() String
        +getAlbums() List~Album~
        +getFollowerCount() int
    }

    class Genre
    <<enumeration>> Genre

    class Playlist {
        -final PlaylistId id
        -String name
        -final UserId ownerId
        -final List~Song~ songs
        -boolean isPublic
        -final LocalDateTime createdAt
        -LocalDateTime updatedAt
        +addSong() void
        +removeSong() void
        +rename() void
        +setPublic() void
        +getTotalDuration() int
        +getId() PlaylistId
        +getName() String
        +getOwnerId() UserId
        +getSongs() List~Song~
        +isPublic() boolean
    }

    class PlaylistId {
        -final String value
        +getValue() String
    }

    class RepeatMode
    <<enumeration>> RepeatMode

    class ArtistId {
        -final String value
        +getValue() String
    }

    class PlaybackQueue {
        -final List~Song~ queue
        -int currentIndex
        -boolean shuffleEnabled
        -RepeatMode repeatMode
        -List~Song~ originalOrder
        -final Random random
        +addSong() void
        +addSongs() void
        +getCurrentSong() Song
        +next() Song
        +previous() Song
        +setShuffle() void
        +setRepeatMode() void
        +clear() void
        +jumpTo() Song
        +hasNext() boolean
    }

    class PlaybackSession {

    PlaybackService "1" --> "*" PlaybackSession
    Song --> SongId
    Song --> ArtistId
    Song --> AlbumId
    Song --> Genre
    Album --> AlbumId
    Album --> ArtistId
    Album "1" --> "*" Song
    User --> UserId
    User --> SubscriptionTier
    User "1" --> "*" Playlist
    User "1" --> "*" SongId
    User "1" --> "*" ArtistId
    Artist --> ArtistId
    Artist "1" --> "*" Album
    Playlist --> PlaylistId
    Playlist --> UserId
    Playlist "1" --> "*" Song
    PlaybackQueue "1" --> "*" Song
    PlaybackQueue --> RepeatMode
    PlaybackSession --> UserId
    PlaybackSession --> Song
    PlaybackSession --> PlaybackState
    PlaybackSession --> PlaybackQueue
