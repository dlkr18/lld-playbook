classDiagram

    class TaskSchedulerDemo {
        +main(): void
    }

    class ScheduledTask {
        -String: id
        -String: taskId
        -Runnable: task
        -LocalDateTime: scheduledTime
        -boolean: executed
        -Priority: priority
        -boolean: recurring
        -long: intervalSeconds
        +getId(): String
        +setId(): void
        +getTaskId(): String
        +getTask(): Runnable
        +getScheduledTime(): LocalDateTime
        +setScheduledTime(): void
        +isExecuted(): boolean
        +markExecuted(): void
    }

    class PriorityTaskScheduler {
        -Map~String, ScheduledTask~: tasks
        -PriorityQueue<ScheduledTask>: taskQueue
        -AtomicLong: taskIdGenerator
        -ScheduledExecutorService: executor
        -boolean: running
        +scheduleTask(): String
        +scheduleRecurringTask(): String
        +cancelTask(): boolean
        +executeDueTasks(): int
        +getAllScheduledTasks(): List~ScheduledTask~
        +getTasksInRange(): List~ScheduledTask~
        +updateTaskPriority(): boolean
        +start(): void
    }

    class SchedulingException {
        -String: taskId
        +getTaskId(): String
    }

    class TaskNotFoundException {
    }

    class Schedule {
        -ScheduleType: type
        -long: intervalSeconds
        -LocalDateTime: startTime
        -LocalDateTime: endTime
        +isRecurring(): boolean
        +getNextExecutionTime(): LocalDateTime
        +getType(): ScheduleType
        +getIntervalSeconds(): long
        +getStartTime(): LocalDateTime
        +getEndTime(): LocalDateTime
    }

    class TaskStatus {
        <<enumeration>>
    }

    class TaskResult {
        -String: taskId
        -TaskStatus: status
        -LocalDateTime: executedAt
        -String: result
        -String: errorMessage
        -long: executionTimeMs
        +getTaskId(): String
        +getStatus(): TaskStatus
        +getExecutedAt(): LocalDateTime
        +getResult(): String
        +getErrorMessage(): String
        +getExecutionTimeMs(): long
        +isSuccess(): boolean
    }

    class Task {
        -String: taskId
        -String: name
        -String: description
        -Runnable: action
        -LocalDateTime: createdAt
        +getTaskId(): String
        +getName(): String
        +getDescription(): String
        +getAction(): Runnable
        +getCreatedAt(): LocalDateTime
    }

    class Priority {
        <<enumeration>>
        -int: level
        +getLevel(): int
    }

    class for {
        <<interface>>

    ScheduledTask --> Priority
    PriorityTaskScheduler "1" --> "*" ScheduledTask
    TaskResult --> TaskStatus
