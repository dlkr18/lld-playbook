classDiagram

    class GameValidator {
        +isValidMove() static boolean
    }

    class AIStrategy
    <<interface>> AIStrategy

    class GameStats {
        -int xWins
        -int oWins
        -int draws
        +recordXWin() void
        +recordOWin() void
        +recordDraw() void
        +getXWins() int
        +getOWins() int
        +getDraws() int
        +getTotalGames() int
    }

    class WinChecker {
        +checkWin() static boolean
        +checkDraw() static boolean
    }

    class RandomAI {
        -final Random random
        +getNextMove() Move
    }

    class GameConfig {
        -final int boardSize
        -final boolean allowUndo
        +standard() static GameConfig
        +getBoardSize() int
        +isAllowUndo() boolean
    }

    class TicTacToeGame {
        -Board board
        -Player currentPlayer
        -GameState state
        -final List~Move~ moveHistory
        -final Player player
        -final Position position
        -final boolean valid
        -final String message
        -final GameState newState
        -final Player nextPlayer
        +start() void
        +makeMove() MoveResult
        +makeMove() MoveResult
        +getLegalMoves() List~Position~
        +undo() boolean
        +reset() void
        +getBoard() Board
        +getCurrentPlayer() Player
        +getState() GameState
        +getMoveHistory() List~Move~
    }

    class Board {
        -final int row
        -final int col
        -final char symbol
        +copy() Board
        +isValidMove() boolean
        +makeMove() void
        +getPlayerAt() Player
        +isFull() boolean
        +getEmptyPositions() List~Position~
        +getWinner() Optional~Player~
        +getRow() int
        +getCol() int
    }

    class GameStatus
    <<enumeration>> GameStatus

    class GameHistory {
        -final List~Move~ moves
        +addMove() void
        +getMoves() List~Move~
        +getTotalMoves() int
    }

    AIStrategy <|.. RandomAI
    TicTacToeGame --> Board