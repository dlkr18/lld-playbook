classDiagram

    class TaskBoard {
        -final Map~String,Task~ tasks
        -final List~TaskObserver~ observers
        +addObserver() void
        +createTask() void
        +updateTaskStatus() void
        +getTasksByStatus() List~Task~
        +getTasksByAssignee() List~Task~
    }

    class TaskObserver {
        <<interface>>
        +onTaskUpdated(task) void
        +onTaskCompleted(task) void
    }

    class TaskStatus {
        <<enumeration>>
        TODO
        IN_PROGRESS
        DONE
        CANCELLED
    }

    class Task {
        -final String id
        -String title
        -String description
        -TaskStatus status
        -Priority priority
        -String assigneeId
        -List~String~ tags
        -LocalDateTime createdAt
        -LocalDateTime dueDate
        -LocalDateTime completedAt
        +getId() String
        +getTitle() String
        +setTitle() void
        +getDescription() String
        +setDescription() void
        +getStatus() TaskStatus
        +setStatus() void
        +getPriority() Priority
        +setPriority() void
        +getAssigneeId() String
    }

    class Demo {
        +main() static void
    }

    class Priority {
        <<enumeration>>
        LOW
        MEDIUM
        HIGH
        URGENT
    }

    class InMemoryTaskService {
        -final Map~String,Task~ tasks
        -final List~TaskObserver~ observers
        -final AtomicLong idGenerator
        +addObserver() void
        +createTask() Task
        +getTask() Optional~Task~
        +updateTask() Task
        +deleteTask() boolean
        +assignTask() void
        +updateTaskStatus() void
        +updateTaskPriority() void
        +setDueDate() void
        +addTag() void
    }

    class UserRole {
        <<enumeration>>
        ADMIN
        MANAGER
        MEMBER
        VIEWER
    }

    class Team {
        -final String id
        -String name
        -String description
        -Set~String~ memberIds
        -String managerId
        -LocalDateTime createdAt
        +getId() String
        +getName() String
        +setName() void
        +getDescription() String
        +setDescription() void
        +getMemberIds() Set<String>
        +addMember() void
        +removeMember() void
        +getManagerId() String
        +setManagerId() void
    }

    class User {
        -final String id
        -String username
        -String email
        -String fullName
        -UserRole role
        -List~String~ teamIds
        -LocalDateTime createdAt
        -boolean active
        +getId() String
        +getUsername() String
        +setUsername() void
        +getEmail() String
        +setEmail() void
        +getFullName() String
        +setFullName() void
        +getRole() UserRole
        +setRole() void
        +getTeamIds() List~String~
    }

    class Comment {
        -final String id
        -final String taskId
        -final String authorId
        -String content
        -LocalDateTime createdAt
        -LocalDateTime updatedAt
        +getId() String
        +getTaskId() String
        +getAuthorId() String
        +getContent() String
        +setContent() void
        +getCreatedAt() LocalDateTime
        +getUpdatedAt() LocalDateTime
        +isEdited() boolean
    }

    Comment --> Task
    User --> UserRole
    InMemoryTaskService "1" --> "*" Task
    InMemoryTaskService "1" --> "*" TaskObserver
    InMemoryTaskService --> TaskStatus
    InMemoryTaskService --> Priority
    TaskBoard "1" --> "*" Task
    TaskBoard "1" --> "*" TaskObserver
    TaskBoard --> TaskStatus
    Task --> TaskStatus
    Task --> Priority
