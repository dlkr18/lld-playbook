classDiagram

    class Commit {
        -final String commitId
        -final String message
        -final String author
        -final LocalDateTime timestamp
        -final Map~String,String~ files
        -String parentCommitId
        +getCommitId() String
        +getMessage() String
        +getFiles() Map<String, String>
        +setParentCommitId() void
    }

    class Branch {
        -final String name
        -String currentCommitId
        +getName() String
        +getCurrentCommitId() String
        +setCurrentCommitId() void
    }

    class VersionControlDemo {
        +main() static void
    }

    class Demo {
        +main() static void
    }

    class VersionControl {
        -final Map~String,Commit~ commits
        -final Map~String,Branch~ branches
        -Branch currentBranch
        +commit() String
        +createBranch() void
        +checkout() void
    }

    class VersionControlImpl {
        -final Map~String,Repository~ repositories
        -final Map<String, Map~String,Commit~> commits
        +createRepository() void
        +commit() String
        +createBranch() void
        +switchBranch() void
        +getHistory() List~Commit~
        +getCommit() Commit
    }

    class Commit {
        -final String id
        -final String message
        -final String author
        -final LocalDateTime timestamp
        -final String parentId
        -final Map~String,String~ files
        +getId() String
        +getMessage() String
        +getParentId() String
        +getFiles() Map<String, String>
    }

    class Branch {
        -final String name
        -String headCommitId
        +updateHead() void
        +getName() String
        +getHeadCommitId() String
    }

    class Repository {
        -final String name
        -final Map~String,Branch~ branches
        -String currentBranch
        +createBranch() void
        +switchBranch() void
        +getCurrentBranch() Branch
        +getName() String
        +getBranches() Map<String, Branch>
    }

    class VersionControl
    <<interface>> VersionControl

    Repository "1" --> "*" Branch
    VersionControlImpl "1" --> "*" Repository
    VersionControlImpl "1" --> "*" Commit
