package com.you.lld.problems.ridehailing.impl;
import com.you.lld.problems.ridehailing.api.*;
import com.you.lld.problems.ridehailing.model.*;
import java.util.*;stream.Collectors;
public class InMemoryRideHailingService implements RideHailingService { private Map<String,Rider> riders = new HashMap<>(); private Map<String,Driver> drivers = new HashMap<>(); private Map<String,Trip> trips = new HashMap<>(); public Rider registerRider(String n, String p) { String id = UUID.randomUUID().toString(); Rider r = new Rider(id,n,p); riders.put(id,r); return r; } public Driver registerDriver(String n, String p) { String id = UUID.randomUUID().toString(); Driver d = new Driver(id,n,p); drivers.put(id,d); return d; } public Trip requestRide(String rid, Location pickup, Location dropoff) { String id = UUID.randomUUID().toString(); Trip t = new Trip(id,rid,""); trips.put(id,t); return t; } public void acceptRide(String did, String tid) { Trip t = trips.get(tid); t.setStatus(TripStatus.ACCEPTED); } public void startTrip(String tid) { trips.get(tid).setStatus(TripStatus.STARTED); } public void completeTrip(String tid) { trips.get(tid).setStatus(TripStatus.COMPLETED); } public Payment processPayment(String tid) { return new Payment("P1",tid,25.50); } }